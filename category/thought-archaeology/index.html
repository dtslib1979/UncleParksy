<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>생각 고고학 — UncleParksy</title>
  <style>
:root{
  --papyrus:#f4e5c9; --ink:#2b2b2b; --muted:#6b5e4a; --clay:#cd853f; --gold:#daa520; --card:#fff; --border:#e9d9b9;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;background:var(--papyrus);color:var(--ink);font-family:ui-sans-serif,system-ui,"Apple SD Gothic Neo","Noto Sans KR",Pretendard,Roboto,Arial,sans-serif;line-height:1.6}
a{color:var(--clay);text-decoration:none}a:hover{text-decoration:underline}
.container{max-width:980px;margin:0 auto;padding:clamp(1rem,4vw,3rem)}
.site-header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 16px;background:var(--card);border-bottom:2px solid var(--border)}
.brand{display:flex;align-items:center;gap:10px;text-decoration:none;color:inherit;font-family:'Pirata One',cursive;font-weight:700}
.brand img{height:40px;width:auto}
.nav a{margin-left:12px;font-weight:700;text-decoration:none;color:inherit}
.card{background:var(--card);border:2px solid var(--border);border-radius:14px;padding:clamp(1.2rem,4vw,2rem);margin-bottom:1.5rem}
.post-item{
  display:block;background:linear-gradient(135deg,rgba(255,255,255,.4),rgba(247,243,232,.8));
  border:2px solid var(--border);border-radius:12px;padding:1rem;margin-bottom:.8rem;
  text-decoration:none;color:inherit;transition:all .3s ease;
}
.post-item:hover{
  transform:translateY(-2px);border-color:var(--clay);box-shadow:0 8px 25px rgba(205,133,63,.15);
  text-decoration:none;
}
.post-title{font-weight:700;font-size:1.1rem;color:var(--ink);margin:0 0 .3rem 0}
.post-meta{font-size:.9rem;color:var(--muted);margin:0}
.post-date{background:var(--gold);color:#221a00;padding:.2rem .5rem;border-radius:8px;font-weight:700;font-size:.8rem}
.loading{text-align:center;color:var(--muted);padding:2rem}
.footer{padding:20px 16px;text-align:center;color:var(--muted);font-size:.9rem}
.back-btn{display:inline-block;background:var(--clay);color:#fff;padding:.6rem 1rem;border-radius:8px;font-weight:700;margin-bottom:1rem}
.back-btn:hover{background:#b8712d;text-decoration:none}
  </style>
</head>
<body>
  <header class="site-header">
    <a class="brand" href="/">
      <img src="/assets/img/logo.png" alt="KoreanParksy" onerror="this.style.display='none'">
      <span>🎓 UncleParksy</span>
    </a>
    <nav class="nav"><a href="/">Home</a></nav>
  </header>

  <main class="container">
    <a href="/" class="back-btn">← 홈으로 돌아가기</a>
    
    <article class="card">
      <h1 style="margin-top:0">💭 생각 고고학 (Thought Archaeology)</h1>
      <p><em>Excavating ideas into organized wisdom.</em></p>
      <p>아이디어를 발굴하여 체계적인 지혜로 정리하는 공간입니다.</p>
      
      <div id="loading" class="loading">
        <p>📚 게시물을 불러오는 중...</p>
      </div>
      
      <div id="post-list"></div>
      
      <div id="empty-state" style="display:none;text-align:center;color:var(--muted);padding:2rem">
        <p>🔍 아직 게시물이 없습니다.</p>
        <p>새로운 HTML 파일을 이 폴더에 업로드하면 자동으로 표시됩니다.</p>
      </div>
    </article>
  </main>

  <footer class="footer">© dtslib.com • KoreanParksy • <a href="/archive/index.html">전체 아카이브</a></footer>

  <script>
// GitHub API를 통해 현재 폴더의 파일 목록을 동적으로 가져오기
async function loadPosts() {
  const loading = document.getElementById('loading');
  const postList = document.getElementById('post-list');
  const emptyState = document.getElementById('empty-state');
  
  try {
    // GitHub API 호출 (현재 폴더의 파일 목록)
    const response = await fetch('https://api.github.com/repos/dtslib1979/UncleParksy/contents/category/thought-archaeology');
    const files = await response.json();
    
    // HTML 파일만 필터링 (index.html 제외)
    const htmlFiles = files.filter(file => 
      file.type === 'file' && 
      file.name.endsWith('.html') && 
      file.name !== 'index.html'
    );
    
    loading.style.display = 'none';
    
    if (htmlFiles.length === 0) {
      emptyState.style.display = 'block';
      return;
    }
    
    // 파일명 기준 최신순 정렬 (날짜가 파일명에 포함된 경우)
    htmlFiles.sort((a, b) => {
      // 한국 날짜 형식 파싱 (YYYY년 MM월 DD일)
      const extractDate = (filename) => {
        const match = filename.match(/(\d{4})년\s*(\d{1,2})월\s*(\d{1,2})일/);
        if (match) {
          const [, year, month, day] = match;
          return new Date(year, month - 1, day);
        }
        return new Date(0); // 날짜가 없는 경우 가장 오래된 것으로 처리
      };
      
      const dateA = extractDate(a.name);
      const dateB = extractDate(b.name);
      return dateB - dateA; // 최신순
    });
    
    // 파일 목록을 HTML로 렌더링
    postList.innerHTML = htmlFiles.map(file => {
      const title = file.name.replace('.html', '').replace(/^\d{4}년\s*\d{1,2}월\s*\d{1,2}일\s*/, '');
      const dateMatch = file.name.match(/(\d{4})년\s*(\d{1,2})월\s*(\d{1,2})일/);
      const dateStr = dateMatch ? `${dateMatch[1]}.${dateMatch[2].padStart(2,'0')}.${dateMatch[3].padStart(2,'0')}` : '날짜 미상';
      
      return `
        <a href="./${encodeURIComponent(file.name)}" class="post-item">
          <h3 class="post-title">${title || file.name.replace('.html', '')}</h3>
          <div class="post-meta">
            <span class="post-date">${dateStr}</span>
            <span style="margin-left: 0.5rem">📄 ${(file.size / 1024).toFixed(1)}KB</span>
          </div>
        </a>
      `;
    }).join('');
    
  } catch (error) {
    console.error('파일 목록 로딩 실패:', error);
    loading.innerHTML = `
      <p style="color: var(--clay)">⚠️ 파일 목록을 불러올 수 없습니다.</p>
      <p style="font-size: 0.9rem">수동으로 파일에 접근하려면:</p>
      <ul style="text-align: left; display: inline-block">
        <li><a href="./2025년 8월 27일 기독교모델.html">2025년 8월 27일 기독교모델.html</a></li>
      </ul>
    `;
  }
}

// 페이지 로드 시 실행
document.addEventListener('DOMContentLoaded', loadPosts);
  </script>
</body>
</html>